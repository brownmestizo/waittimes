<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

    <title>Wait times app</title>
    <meta name="description" content="Wait times app">
    <meta name="author" content="CSDS">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto" >
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <link rel="stylesheet" href="css/owl.theme.default.min.css">    
    <link rel="stylesheet" href="css/style.css" />

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.12/handlebars.min.js"></script>    
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>    
    <script type="text/javascript" src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js"></script>

    <script type="text/javascript" src="https://canvasjs.com/assets/script/jquery.canvasjs.min.js"></script>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-sheetrock/1.1.4/dist/sheetrock.min.js"></script>   
    <script type="text/javascript" src="scripts/owl.carousel.min.js"></script>
    <script type="text/javascript" src="scripts/functions.js"></script>
    <script type="text/javascript" src="scripts/charts.js"></script>
</head>


<body>

    <div class="sidebar shadow" style="display:none;" id="sidebar">
        <ul>
            <li onClick="sidebar_close()">Close</li>
            <li>Help</li>
            <li>About this project</li>
        </ul>      
    </div>
            
    <div class="header">
        <i class="fas fa-bars float-right" onclick="sidebar_open()"></i>
        <h4>Health Service Finder</h4>
    </div>

    <div class="container facility-bg">
        <div class="row">
            <div class="col-12">
                <a href="index.html">
                    <h4 class="back"><i class="fas fa-arrow-left"></i></h4>
                </a>
            </div>
        </div>
        
        <div class="card shadow bg-white rounded">
            <div class="card-body" id="hospitalPage">      
                <script id="hospitalDetails" type="text/x-handlebars-template">          
                    <h4>{{cells.HospitalName}}</h4>
                    <p>
                        <span class="inline">
                            <i class="fas fa-clock"></i> {{cells.Status}} approx wait time
                        </span>
                    </p>
                    <p>
                        <span class="inline">
                            <i class="fas fa-car-alt"></i> {{cells.DriveTime}}-min drive from Brisbane City
                        </span>
                    </p> 
                    <p>
                        <span class="inline">
                            <i class="far fa-clock"></i> Open 24 hours
                        </span>                    
                    </p>      
                    <hr />
                    <p style="margin-top: 10px;">                                   
                        <span class="badge badge-secondary">Adult</span>    
                        <span class="badge badge-secondary">Maternity</span>        
                    </p>
                </script>           
            </div>                 
        </div> 

    </div>

    <div class="container bg-white below-card">
        <div class="row">
            <div class="col-6">
                <a href="https://www.google.com/maps/dir/?api=1&destination=Royal+Brisbane+and+Women's+Hospital+Emergency+Room" class="btn btn-primary btn-block">
                    <i class="fas fa-directions"></i> Get directions</a>
            </div>
            <div class="col-6">
                <a href="#" class="btn btn-primary btn-block"><i class="fas fa-share"></i> Share</a>                           
            </div>                        
        </div>

        <div class="row activity-indicator">
            <div class="col-12">
                <p class="m-b-negativefive">
                    <span class="float-right"><a href="#" id="refresh">Refresh</a></span>
                    Activity indicator
                </p>
                <small class="m-b-negativefive">As of 25 February 2019 06:51 am</small>
                <hr />
                <p><span class="float-right extremely-busy"> Over 2 hours</span>Approx wait time</p>
                <hr />
                <p><span class="float-right">9 patients</span>Patients waiting to be seen</p>
                <hr />
                <p class="caption">Figures above are current at the time of page load. You may end up waiting longer if there are people with more urgent needs than you.</p>
            </div>
        </div>
    </div>

    <div class="container facility-details">
        <div class="row">
            <div class="col-12 bg-white">
                <p>
                    <a href="https://www.google.com/maps/dir/?api=1&parameters">
                    <span class="float-right"><small>Directions</small></span></a>
                    <i class="fas fa-map-marker-alt"></i> Butterfield Street, Herston 4029
                </p>
            </div>
            <div class="col-12 bg-white">
                <p><i class="far fa-clock"></i> Open 24 hours</p>
            </div>       
            <div class="col-12 bg-white">
                <p>
                    <span class="float-right">
                        <a href="tel:36466500"><small>Call</small></a>
                    </span>
                    <i class="fas fa-phone"></i> (07) 3646 6500
                </p>
            </div>                              
        </div>
    </div>

    <div class="container bg-white popular-times">
        <div class="row">
            <div class="col-12 header-row">
                <span class="float-right">
                    <h5 style="margin: 0px; margin-bottom: -5px; margin-top: 5px;">
                        <i class="fas fa-question-circle"></i>
                    </h5>
                </span>
                <h5 style="margin: 0px; margin-bottom: -5px; margin-top: 5px;">
                    Popular times: Tuesday
                </h5>
                <small>Tap hours to see average waiting times</small>
            </div>
            <div class="col-12"> 
                <div class="owl-carousel owl-theme">
                    <div class="item" id="chartContainer1" style="height: 170px; width: 100%;"></div>      
                    <div class="item" id="chartContainer2" style="height: 170px; width: 100%;"></div>
                    <div class="item" id="chartContainer3" style="height: 170px; width: 100%;"></div>      
                    <div class="item" id="chartContainer4" style="height: 170px; width: 100%;"></div>
                    <div class="item" id="chartContainer5" style="height: 170px; width: 100%;"></div>      
                    <div class="item" id="chartContainer6" style="height: 170px; width: 100%;"></div>
                    <div class="item" id="chartContainer7" style="height: 170px; width: 100%;"></div>
                </div>
            </div>                                   
        </div>
    </div>

    <div class="container bg-white other-facilities">
        <div class="row">
            <div class="col-12 header-row">
                <span class="float-right"><h5><i class="fas fa-question-circle"></i></h5></span>
                <h5>Other nearby healthcare facilities</h5>
            </div>
        </div>
    </div>
    
    <div class="scrolling-wrapper m-b-small">

        <div class="mini-card shadow-sm bg-white">
            <p><strong>The Prince Charles Hospital</strong></p>
            <p>Adult, Paediatric, Mental Health</p>
            <p>60 minutes waiting time</p>
            <p>Open</p>
        </div>

        <div class="mini-card shadow-sm bg-white">
            <p><strong>Caboolture Hospital</strong></p>
            <p>Adult, Paediatric, Mental Health</p>
            <p>60 minutes waiting time</p>
            <p>Open</p>
        </div>            

        <div class="mini-card shadow-sm bg-white">
            <p><strong>Kilcoy Hospital</strong></p>
            <p>Adult, Paediatric, Mental Health</p>
            <p>60 minutes waiting time</p>
            <p>Open</p>
        </div>       

    </div>
    
    <div class="container">
        <div class="row">
            <div class="col-12 text-center p-3">
                <img src="images/logo.png" />
            </div>
        </div>
    </div>

    <script type="text/javascript">
        var facilityID = getUrlParameter('id');
        var templateHospitalName = Handlebars.compile($('#hospitalDetails').html());
        var mySpreadsheet = 'https://docs.google.com/spreadsheets/d/1lDN_h6l1oFsxE_lgP2MxWZsJBpWeQk5R5_mu_A-BiTQ/edit?usp=sharing#gid=0';
        $("#hospitalPage").sheetrock({
            url: mySpreadsheet,
            query: "select * where A = " + facilityID,
            rowTemplate: templateHospitalName
        });            
    </script>           
</body>
</html>